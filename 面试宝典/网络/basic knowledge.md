
##### 为什么握手是三次而挥手需要四次

握手是通过互相握手来传递信号的一种方式，它通常用于建立网络连接或确认双方的身份。握手的过程通常分为三个步骤：
1. 发送方向接收方发送“请求握手”的信号。
2. 接收方收到信号后，回应发送方“同意握手”的信号。
3. 发送方收到回应后，再次向接收方发送“确认握手”的信号，表示握手成功。

因此，握手过程中需要进行三次交互，才能完成握手操作。
而挥手是指在网络通信中，当一方发起断开连接请求时，另一方进行确认并完成连接断开的过程。挥手的过程通常分为四个步骤：
1. 发起方向接收方发送“请求断开连接”的信号。
2. 接收方收到信号后，回应发送方“同意断开连接”的信号。
3. 接收方向发起方发送“确认断开连接”的信号。
4. 发起方收到回应后，完成连接的断开。

因此，挥手过程中需要进行四次交互，才能完成连接的断开。这是为了确保双方都能正确地完成断开连接的操作。


##### tcp和udp的原理、区别、应用场景

TCP（传输控制协议）和UDP（用户数据报协议）是在网络通信中常用的两种传输协议。它们有不同的原理、特点和适用场景。

TCP的原理：

- TCP是一种面向连接的协议，它通过建立可靠的、双向的通信管道进行数据传输。
- TCP使用三次握手建立连接，确保通信双方的可靠性和数据的完整性。
- TCP提供流控制和拥塞控制机制，使数据传输更稳定可靠。

UDP的原理：

- UDP是一种面向无连接的协议，它不需要先建立连接就能进行数据传输。
- UDP采用简单的数据包交换方式，将数据包发送给目标地址，不关心是否到达或顺序是否正确。
- UDP没有流控制和拥塞控制机制，传输速度快，但容易丢失数据和乱序。

区别：

1. 连接性：TCP是面向连接的，需要在通信双方建立连接后才能进行数据传输；而UDP是无连接的，可以直接发送数据，不需要连接的建立。
2. 可靠性：TCP提供可靠的数据传输，通过确认和重传机制确保数据不丢失和顺序正确；而UDP不提供可靠性保证，数据可能丢失或乱序。
3. 传输效率：TCP在保证可靠性的基础上，会引入额外的开销，传输效率相对较低；而UDP传输效率高，因为没有确认和重传机制的消耗。
4. 应用场景：TCP适用于对数据可靠性要求较高的场景，如文件传输、网页浏览、邮件等；UDP适用于实时性要求较高，且能容忍部分丢失的场景，如音频、视频、实时游戏等。

总结：  
TCP和UDP各有优劣，适用于不同的应用场景。TCP适用于对数据可靠性要求较高的场景，而UDP适用于实时性要求较高，且能容忍部分丢失的场景。

##### TCP慢启动，拥塞控制实现

慢启动（Slow start）：

- 在TCP建立连接或网络拥塞恢复之后，发送方初始时将发送窗口（发送的数据大小）设置为一个较小的值，称为拥塞窗口（Congestion Window）。
- 发送方每收到一个确认（ACK）时，将拥塞窗口的大小加倍。
- 慢启动阶段，发送方的发送窗口将指数级增长，即指数增长窗口（Exponential Growth Window）。
- 慢启动过程中，发送方以指数方式增加发送数据的数量，直到达到一个阈值（拥塞避免阈值）。

拥塞控制（Congestion Control）：

- 当发送方触发网络拥塞时，即接收到的确认数量减少或发生超时，会触发拥塞控制机制。
- 拥塞控制机制将使发送方的拥塞窗口减小，以避免进一步加重网络拥塞。
- 拥塞控制采用加法增加、乘法减小（AIMD）的原则进行调整：
    - 拥塞窗口减小时，以加法减小的方式改变发送窗口大小。
    - 拥塞窗口增加时，以乘法增大的方式改变发送窗口大小。
- 拥塞控制阶段，发送方以线性方式增加发送数据的数量，即线性增长窗口（Linear Growth Window）。

慢启动和拥塞控制机制通过动态调整发送窗口的大小，控制发送方的发送速率，以适应当前网络的拥塞程度，从而避免网络拥塞和数据丢失，并提高传输效率。这种机制使得TCP能够根据网络状况进行自适应调整，以实现可靠而高效的数据传输。